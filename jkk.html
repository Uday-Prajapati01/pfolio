<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UNO Card Game</title>
<style>

    .text{
        font-family: Georgia, 'Times New Roman', Times, serif
    }

    body {
        background: #1a1a1a;
        font-family: Arial, sans-serif;
        color: white;
        text-align: center;
        margin: 0;
        padding: 0;
    }

    h1 { margin-top: 20px; }

    .game-area {
        margin-top: 30px;
        padding: 10px;
    }

    .card {
        display: inline-flex;
        width: 80px;
        height: 120px;
        border-radius: 10px;
        color: white;
        font-size: 2rem;
        font-weight: bold;
        margin: 10px;
        cursor: pointer;
        justify-content: center;
        align-items: center;
        line-height: normal;
        border: 2px solid #000;
        transition: 0.2s;
    }

    .card:hover {
        transform: scale(1.1);
    }

    .red { background: #e63946; }
    .blue { background: #457b9d; }
    .green { background: #2a9d8f; }
    .yellow { background: #e9c46a; color: black; }

    #cpu, #player {
        margin-top: 40px;
    }

    #pile-card {
        margin-top: 20px;
        padding: 20px;
    }

    button {
        padding: 12px 30px;
        font-size: 20px;
        margin-top: 20px;
        cursor: pointer;
        background: #0d6efd;
        border: none;
        border-radius: 8px;
        color: white;
        transition: 0.2s;
    }

    button:hover {
        background: #084db9;
    }

    /* RESPONSIVE DESIGN */
    @media (max-width: 600px) {
        .card {
            width: 60px;
            height: 90px;
            font-size: 1.4rem;
        }

        button {
            width: 90%;
        }

        h1 {
            font-size: 24px;
        }
    }
</style>
</head>
<body>
    <div class="text">
    <h1><i>Created By UdayðŸ˜Ž</h1></i>
    <br></br></div>
<!-- Background Music -->
<audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2023/02/28/audio_1ad092869a.mp3" autoplay loop></audio>

<!-- Card Sound Effects -->
<audio id="drawSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4fa1cca531.mp3?filename=pop-124467.mp3"></audio>
<audio id="playSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_109f0e06da.mp3?filename=click-124467.mp3"></audio>

<h1>UNO Card Game</h1>

<div id="pile-card">Loading...</div>

<div class="game-area">
    <h2>Your Cards</h2>
    <div id="player"></div>

    <button onclick="drawCard()">Draw Card</button>

    <h2>CPU Cards</h2>
    <div id="cpu"></div>
</div>

<script>
const colors = ["red", "blue", "green", "yellow"];
let playerCards = [];
let cpuCards = [];
let pileCard = getRandomCard();

/* Play Sounds */
function playDrawSound() { document.getElementById("drawSound").play(); }
function playCardSound() { document.getElementById("playSound").play(); }

/* Generate Random Card */
function getRandomCard() {
    return {
        color: colors[Math.floor(Math.random() * 4)],
        number: Math.floor(Math.random() * 10)
    };
}

/* Create Player & CPU Hands */
for (let i = 0; i < 5; i++) playerCards.push(getRandomCard());
for (let i = 0; i < 5; i++) cpuCards.push(getRandomCard());

renderGame();

/* Draw Card Button */
function drawCard() {
    playerCards.push(getRandomCard());
    playDrawSound();
    renderGame();
}

/* Play a Card */
function playCard(index) {
    const card = playerCards[index];

    if (card.color === pileCard.color || card.number === pileCard.number) {
        pileCard = card;
        playerCards.splice(index, 1);
        playCardSound();
        renderGame();
        checkWin();
        setTimeout(cpuTurn, 1000);
    } else {
        alert("This card cannot be played!");
    }
}

/* CPU Auto Move */
function cpuTurn() {
    for (let i = 0; i < cpuCards.length; i++) {
        const c = cpuCards[i];
        if (c.color === pileCard.color || c.number === pileCard.number) {
            pileCard = c;
            cpuCards.splice(i, 1);
            playCardSound();
            renderGame();
            checkWin();
            return;
        }
    }
    cpuCards.push(getRandomCard());
    playDrawSound();
    renderGame();
}

/* Check for Winner */
function checkWin() {
    if (playerCards.length === 0) {
        alert("ðŸŽ‰ YOU WIN!");
    }
    if (cpuCards.length === 0) {
        alert("ðŸ’€ CPU WINS!");
    }
}

/* Render Cards to Screen */
function renderGame() {
    // Pile Card
    document.getElementById("pile-card").innerHTML =
        `<div class="card ${pileCard.color}">${pileCard.number}</div><br>Pile Card`;

    // Player Cards
    document.getElementById("player").innerHTML = "";
    playerCards.forEach((c, i) => {
        document.getElementById("player").innerHTML +=
            `<div class="card ${c.color}" onclick="playCard(${i})">${c.number}</div>`;
    });

    // CPU Cards
    document.getElementById("cpu").innerHTML = "";
    cpuCards.forEach(() => {
        document.getElementById("cpu").innerHTML +=
            `<div class="card" style="background:#333;">?</div>`;
    });
}
</script>

</body>
</html>
